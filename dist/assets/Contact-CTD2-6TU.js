var y=Object.defineProperty;var j=(t,s,a)=>s in t?y(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var x=(t,s,a)=>j(t,typeof s!="symbol"?s+"":s,a);import{r as g,j as e,d as w,u as N,s as k,o as E,B as S,p as T,q as C,P as F}from"./index-DXAYjRH_.js";import{I as p}from"./input-mIjacY1e.js";const b=g.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:w("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s}));b.displayName="Textarea";function f(t){return t?t.replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").trim():""}function R(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function q(t){var i,n,r;const s=[];if((i=t.name)!=null&&i.trim()?t.name.length>100&&s.push("Name must be less than 100 characters"):s.push("Name is required"),(n=t.email)!=null&&n.trim()?R(t.email)||s.push("Please enter a valid email address"):s.push("Email is required"),(r=t.message)!=null&&r.trim()?t.message.length>5e3&&s.push("Message must be less than 5000 characters"):s.push("Message is required"),s.length>0)return{isValid:!1,errors:s};const a={name:f(t.name),email:f(t.email),message:f(t.message)};return{isValid:!0,errors:[],sanitizedData:a}}const v=new Map;function I(t,s=3,a=6e4){const i=Date.now(),n=v.get(t);return!n||i>n.resetTime?(v.set(t,{count:1,resetTime:i+a}),!0):n.count>=s?!1:(n.count++,!0)}class M{constructor(){x(this,"events",[]);x(this,"maxEvents",100)}logEvent(s,a,i){const n={type:s,details:a,timestamp:Date.now(),userAgent:navigator.userAgent,...i};this.events.push(n),this.events.length>this.maxEvents&&(this.events=this.events.slice(-this.maxEvents)),console.log(`[SECURITY] ${s}: ${a}`,n),this.sendToMonitoringService(n)}logFormSubmission(s,a,i){this.logEvent("form_submission",`${s} form ${a?"successful":"failed"}${i?`: ${i}`:""}`)}logRateLimit(s,a){this.logEvent("rate_limit",`Rate limit exceeded for ${s} (limit: ${a})`)}logValidationError(s,a){this.logEvent("validation_error",`Validation failed for ${s}: ${a}`)}getRecentEvents(){return[...this.events].reverse()}clearEvents(){this.events=[]}sendToMonitoringService(s){try{const a=sessionStorage.getItem("security_events")||"[]",i=JSON.parse(a);i.push(s);const n=i.slice(-50);sessionStorage.setItem("security_events",JSON.stringify(n))}catch(a){console.warn("Failed to store security event:",a)}}}const h=new M,$=()=>{const t=({category:r,action:o,label:d,value:u})=>{typeof window.gtag<"u"&&window.gtag("event",o,{event_category:r,event_label:d,value:u}),typeof window.clarity<"u"&&window.clarity("set",r,o)};return{trackEvent:t,trackConversion:(r,o)=>{t({category:"conversion",action:r,value:o})},trackEngagement:(r,o)=>{t({category:"engagement",action:r,label:o})},trackFormSubmission:r=>{t({category:"form",action:"submit",label:r})},trackClick:(r,o)=>{t({category:"click",action:r,label:o})}}},V=()=>{N(F.contact);const{trackFormSubmission:t}=$();g.useEffect(()=>{(window.location.hash==="#top"||window.location.hash==="")&&k()},[]);const[s,a]=g.useState({name:"",email:"",message:""}),[i,n]=g.useState(!1),{toast:r}=E(),o=async u=>{if(u.preventDefault(),!I("contact-form",3,6e4)){h.logRateLimit("contact-form",3),r({title:"Too many requests",description:"Please wait a minute before submitting another message.",variant:"destructive"});return}const m=q(s);if(!m.isValid){m.errors.forEach(l=>{h.logValidationError("contact-form",l)}),r({title:"Validation Error",description:m.errors.join(", "),variant:"destructive"});return}n(!0);try{const l=await fetch("https://uhwhdokmdqpwtgipivwp.supabase.co/functions/v1/send-contact-email",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(m.sanitizedData)}),c=await l.json();if(!l.ok)throw new Error(c.error||`HTTP error! status: ${l.status}`);h.logFormSubmission("contact",!0),C("contact_form"),t("contact_form"),r({title:"Message sent successfully!",description:"Thank you for your message. I'll get back to you soon."}),a({name:"",email:"",message:""})}catch(l){console.error("Error sending message:",l);let c="There was an error sending your message. Please try again.";l instanceof Error&&(h.logFormSubmission("contact",!1,l.message),l.message.includes("Rate limit")?c="Too many requests. Please try again later.":l.message.includes("Validation")&&(c="Please check your form data and try again.")),r({title:"Error",description:c,variant:"destructive"})}finally{n(!1)}},d=u=>{const{name:m,value:l}=u.target;a(c=>({...c,[m]:l}))};return e.jsx("main",{className:"pt-24 pb-16 px-4 md:px-8 bg-gradient-to-b from-white to-slate-50 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:"Get In Touch"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Ready to transform your online presence? Let's discuss how we can help your business grow through strategic SEO and digital marketing."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900 mb-4",children:"Let's Start a Conversation"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Whether you're looking to improve your search rankings, increase website traffic, or develop a comprehensive digital strategy, I'm here to help."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mt-1",children:e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Free Consultation"}),e.jsx("p",{className:"text-slate-600",children:"30-minute strategy session to discuss your goals"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mt-1",children:e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Custom Solutions"}),e.jsx("p",{className:"text-slate-600",children:"Tailored strategies for your specific industry and needs"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mt-1",children:e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Quick Response"}),e.jsx("p",{className:"text-slate-600",children:"I'll get back to you within 24 hours"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 mb-2",children:"Your Name *"}),e.jsx(p,{type:"text",id:"name",name:"name",value:s.name,onChange:d,required:!0,maxLength:100,className:"w-full",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address *"}),e.jsx(p,{type:"email",id:"email",name:"email",value:s.email,onChange:d,required:!0,className:"w-full",placeholder:"your.email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-2",children:"Your Message *"}),e.jsx(b,{id:"message",name:"message",value:s.message,onChange:d,required:!0,maxLength:5e3,rows:6,className:"w-full",placeholder:"Tell me about your project, goals, and how I can help..."}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[s.message.length,"/5000 characters"]})]}),e.jsx(S,{type:"submit",disabled:i,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors",children:i?"Sending...":"Send Message"}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Prefer to talk directly? Schedule a free consultation call."}),e.jsx(T,{variant:"outline",size:"lg",className:"w-full border-purple-200 text-purple-700 hover:bg-purple-50",calendlyUrl:"https://calendly.com/marden-seo/30min",children:"Schedule Free Consultation"})]})})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:e.jsx("p",{children:"Your information is secure and will never be shared."})})]})]})]})})};export{V as default};
